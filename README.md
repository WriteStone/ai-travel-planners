# AI Travel Planner - æ™ºèƒ½æ—…è¡Œè§„åˆ’åŠ©æ‰‹

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)
![Next.js](https://img.shields.io/badge/Next.js-14.0-black)
![Docker](https://img.shields.io/badge/docker-ready-blue)

ä¸€ä¸ªåŸºäº AI çš„æ™ºèƒ½æ—…è¡Œè§„åˆ’ Web åº”ç”¨ï¼Œé€šè¿‡è¯­éŸ³æˆ–æ–‡å­—è¾“å…¥æ—…è¡Œéœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–çš„æ—…è¡Œè·¯çº¿ã€é¢„ç®—åˆ†æå’Œè´¹ç”¨ç®¡ç†ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆä½¿ç”¨ Dockerï¼‰

### å‰ç½®è¦æ±‚
- å·²å®‰è£… [Docker](https://www.docker.com/get-started)
- **æ¨èæµè§ˆå™¨**ï¼šMicrosoft Edge æˆ– Google Chromeï¼ˆè¯­éŸ³è¯†åˆ«åŠŸèƒ½éœ€è¦ï¼‰
- å‡†å¤‡å¥½ä»¥ä¸‹ API å¯†é’¥ï¼š
  - Supabase é¡¹ç›® URL å’Œ Anon Key
  - é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆDashScopeï¼‰API Key

> âš ï¸ **é‡è¦æç¤º**ï¼šæœ¬åº”ç”¨çš„è¯­éŸ³è¯†åˆ«åŠŸèƒ½ä¾èµ– Web Speech APIï¼Œç›®å‰ä»… **Microsoft Edge** å’Œ **Google Chrome** æµè§ˆå™¨å®Œå…¨æ”¯æŒã€‚Firefox å’Œ Safari å¯èƒ½æ— æ³•ä½¿ç”¨è¯­éŸ³åŠŸèƒ½ã€‚

### 1. æ‹‰å– Docker é•œåƒ

ä» GitHub Container Registry æ‹‰å–æœ€æ–°é•œåƒï¼š

```bash
docker pull ghcr.io/writestone/ai-travel-planners:latest
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶æˆ–å‡†å¤‡ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=ä½ çš„Supabaseé¡¹ç›®URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„SupabaseåŒ¿åå¯†é’¥

# é˜¿é‡Œäº‘ç™¾ç‚¼ DashScope API
DASHSCOPE_API_KEY=ä½ çš„DashScope_APIå¯†é’¥
```

**å¦‚ä½•è·å– API å¯†é’¥ï¼š**

- **Supabase**: 
  1. è®¿é—® [supabase.com](https://supabase.com) åˆ›å»ºå…è´¹é¡¹ç›®
  2. åœ¨é¡¹ç›®è®¾ç½® â†’ API ä¸­æ‰¾åˆ° `URL` å’Œ `anon public` å¯†é’¥

- **DashScope**:
  1. è®¿é—® [é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°](https://dashscope.aliyun.com/)
  2. åˆ›å»ºåº”ç”¨å¹¶è·å– API Key

### 3. è¿è¡Œå®¹å™¨

**æ–¹å¼ A - ä½¿ç”¨ç¯å¢ƒå˜é‡å‚æ•°ï¼š**

```bash
docker run -d \
  --name ai-travel-planner \
  -p 3000:3000 \
  -e NEXT_PUBLIC_SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co \
  -e NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„anon_key \
  -e DASHSCOPE_API_KEY=sk-ä½ çš„dashscope_key \
  ghcr.io/writestone/ai-travel-planners:latest
```

**æ–¹å¼ B - ä½¿ç”¨ .env æ–‡ä»¶ï¼š**

```bash
docker run -d \
  --name ai-travel-planner \
  -p 3000:3000 \
  --env-file .env \
  ghcr.io/writestone/ai-travel-planners:latest
```

**Windows PowerShell ç”¨æˆ·ï¼š**

```powershell
docker run -d `
  --name ai-travel-planner `
  -p 3000:3000 `
  -e NEXT_PUBLIC_SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co `
  -e NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„anon_key `
  -e DASHSCOPE_API_KEY=sk-ä½ çš„dashscope_key `
  ghcr.io/writestone/ai-travel-planners:latest
```

### 4. è®¿é—®åº”ç”¨

å®¹å™¨å¯åŠ¨åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

```
http://localhost:3000
```

### 5. åœæ­¢å’Œç®¡ç†å®¹å™¨

```bash
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker ps

# æŸ¥çœ‹æ—¥å¿—
docker logs ai-travel-planner

# åœæ­¢å®¹å™¨
docker stop ai-travel-planner

# å¯åŠ¨å®¹å™¨
docker start ai-travel-planner

# åˆ é™¤å®¹å™¨
docker rm ai-travel-planner
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡ä½¿ç”¨

1. **æ³¨å†Œè´¦å·**
   - æ‰“å¼€åº”ç”¨åç‚¹å‡»"æ³¨å†Œ"
   - è¾“å…¥é‚®ç®±å’Œå¯†ç å®Œæˆæ³¨å†Œ
   - ç™»å½•åè‡ªåŠ¨è¿›å…¥ä»ªè¡¨æ¿

2. **åˆ›å»ºæ—…è¡Œè®¡åˆ’**
   - ç‚¹å‡»"åˆ›å»ºè®¡åˆ’"æŒ‰é’®
   - å¡«å†™æ—…è¡Œä¿¡æ¯ï¼š
     - ç›®çš„åœ°ï¼ˆå¿…å¡«ï¼‰
     - å‡ºå‘å’Œè¿”å›æ—¥æœŸ
     - é¢„ç®—é‡‘é¢
     - åŒè¡Œäººæ•°
     - æ—…è¡Œåå¥½ï¼ˆç¾é£Ÿã€è´­ç‰©ã€æ–‡åŒ–ç­‰ï¼‰

3. **ä½¿ç”¨è¯­éŸ³è¾“å…¥ï¼ˆæ¨èï¼‰**
   - ç‚¹å‡»éº¦å…‹é£å›¾æ ‡å¼€å§‹è¯­éŸ³è¾“å…¥
   - è¯´å‡ºä½ çš„æ—…è¡Œéœ€æ±‚ï¼Œä¾‹å¦‚ï¼š
     > "æˆ‘æƒ³å»æˆéƒ½ç©5å¤©ï¼Œé¢„ç®—8000å…ƒï¼Œå–œæ¬¢ç¾é£Ÿå’Œæ–‡åŒ–ï¼Œ3ä¸ªäºº"
   - AI ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶å¡«å……è¡¨å•
   - ç‚¹å‡»"ç”Ÿæˆè®¡åˆ’"

4. **æŸ¥çœ‹ AI ç”Ÿæˆçš„è¡Œç¨‹**
   - AI ä¼šç”ŸæˆåŒ…å«ä»¥ä¸‹å†…å®¹çš„è¯¦ç»†è¡Œç¨‹ï¼š
     - æ¯æ—¥æ™¯ç‚¹å®‰æ’å’Œæ—¶é—´
     - äº¤é€šæ–¹å¼å’Œè´¹ç”¨
     - é¤å…æ¨èï¼ˆæ—©ä¸­æ™šï¼‰
     - ä½å®¿å»ºè®®
     - è¯¦ç»†é¢„ç®—åˆ†æ
   - å¯ä»¥åœ¨åœ°å›¾ä¸ŠæŸ¥çœ‹è·¯çº¿
   - ä¿å­˜è®¡åˆ’åˆ°äº‘ç«¯

5. **è´¹ç”¨ç®¡ç†**
   - åœ¨æ—…è¡Œä¸­è®°å½•å®é™…èŠ±è´¹
   - ä½¿ç”¨è¯­éŸ³å¿«é€Ÿè®°è´¦
   - æŸ¥çœ‹é¢„ç®—vså®é™…å¯¹æ¯”
   - è‡ªåŠ¨åˆ†ç±»ç»Ÿè®¡

### ä¸»è¦åŠŸèƒ½è¯´æ˜

#### ğŸ—£ï¸ è¯­éŸ³è¯†åˆ«
- æ”¯æŒä¸­æ–‡è¯­éŸ³è¾“å…¥
- è‡ªåŠ¨è¯†åˆ«ç›®çš„åœ°ã€é¢„ç®—ã€æ—¥æœŸã€äººæ•°ç­‰ä¿¡æ¯
- å®æ—¶è½¬æ¢ä¸ºæ–‡å­—å¹¶å¡«å……è¡¨å•

#### ğŸ¤– AI è¡Œç¨‹ç”Ÿæˆ
- åŸºäºé˜¿é‡Œäº‘ç™¾ç‚¼å¤§æ¨¡å‹ï¼ˆé€šä¹‰åƒé—®ï¼‰
- æ™ºèƒ½æ¨èæ™¯ç‚¹ã€é¤å…ã€äº¤é€š
- ç”Ÿæˆè¯¦ç»†çš„æ¯æ—¥è¡Œç¨‹å®‰æ’
- æä¾›åˆç†çš„é¢„ç®—åˆ†é…å»ºè®®

#### ğŸ—ºï¸ åœ°å›¾å¯è§†åŒ–
- é›†æˆé«˜å¾·åœ°å›¾
- æ ‡è®°æ‰€æœ‰æ™¯ç‚¹ä½ç½®
- æ˜¾ç¤ºè·¯çº¿è§„åˆ’
- æ”¯æŒåœ°å›¾äº¤äº’

#### ğŸ’° é¢„ç®—è¿½è¸ª
- å®æ—¶è´¹ç”¨è®°å½•
- åˆ†ç±»ç»Ÿè®¡ï¼ˆäº¤é€šã€ä½å®¿ã€é¤é¥®ã€é—¨ç¥¨ç­‰ï¼‰
- é¢„ç®—è¶…æ”¯æé†’
- å›¾è¡¨å¯è§†åŒ–

#### â˜ï¸ äº‘ç«¯åŒæ­¥
- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ Supabase
- å¤šè®¾å¤‡è‡ªåŠ¨åŒæ­¥
- å®‰å…¨çš„ç”¨æˆ·è®¤è¯
- å†å²è®¡åˆ’ä¿å­˜

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **å®¶åº­æ—…è¡Œ**: è§„åˆ’äº²å­æ¸¸ã€å®¶åº­åº¦å‡
- **æƒ…ä¾£å‡ºè¡Œ**: æµªæ¼«æ—…è¡Œè·¯çº¿æ¨è
- **å•†åŠ¡å·®æ—…**: é«˜æ•ˆçš„è¡Œç¨‹å®‰æ’å’Œè´¹ç”¨ç®¡ç†
- **èƒŒåŒ…æ—…è¡Œ**: é¢„ç®—æ§åˆ¶å’Œè·¯çº¿ä¼˜åŒ–
- **å›¢é˜Ÿå»ºè®¾**: å¤šäººå‡ºè¡Œçš„ç»Ÿç­¹è§„åˆ’

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. **è¯­éŸ³è¾“å…¥æ—¶å°½é‡è¯¦ç»†**ï¼šè¯´æ˜ç›®çš„åœ°ã€æ—¶é—´ã€é¢„ç®—ã€åå¥½ï¼ŒAI ä¼šç”Ÿæˆæ›´ç²¾å‡†çš„è®¡åˆ’
2. **åŠæ—¶è®°å½•èŠ±è´¹**ï¼šä½¿ç”¨è¯­éŸ³è®°è´¦åŠŸèƒ½ï¼Œæ—…è¡Œä¸­éšæ—¶è®°å½•ï¼Œé¿å…é—å¿˜
3. **ä¿å­˜å¤šä¸ªæ–¹æ¡ˆ**ï¼šå¯ä»¥ä¸ºåŒä¸€ç›®çš„åœ°ç”Ÿæˆå¤šä¸ªè®¡åˆ’è¿›è¡Œå¯¹æ¯”
4. **å‚è€ƒä½†ä¸æ‹˜æ³¥**ï¼šAI å»ºè®®å¯ä½œå‚è€ƒï¼Œæ ¹æ®å®é™…æƒ…å†µçµæ´»è°ƒæ•´

## ğŸ”§ æ•…éšœæ’é™¤

### åº”ç”¨æ— æ³•è®¿é—®
- æ£€æŸ¥ Docker å®¹å™¨æ˜¯å¦è¿è¡Œï¼š`docker ps`
- æ£€æŸ¥ç«¯å£ 3000 æ˜¯å¦è¢«å ç”¨
- æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker logs ai-travel-planner`

### AI æ— æ³•ç”Ÿæˆè¡Œç¨‹
- ç¡®è®¤ DASHSCOPE_API_KEY é…ç½®æ­£ç¡®
- æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æœ‰æ•ˆä¸”æœ‰ä½™é¢
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### æ— æ³•æ³¨å†Œæˆ–ç™»å½•
- ç¡®è®¤ SUPABASE_URL å’Œ SUPABASE_ANON_KEY é…ç½®æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤ Supabase é¡¹ç›®çŠ¶æ€æ­£å¸¸

### è¯­éŸ³è¯†åˆ«ä¸å·¥ä½œ
- **é¦–å…ˆç¡®è®¤æµè§ˆå™¨**ï¼šå¿…é¡»ä½¿ç”¨ **Microsoft Edge** æˆ– **Google Chrome** æµè§ˆå™¨
- ç¡®ä¿æµè§ˆå™¨å…è®¸éº¦å…‹é£æƒé™ï¼ˆæµè§ˆå™¨åœ°å€æ ä¼šæœ‰æç¤ºï¼‰
- æ£€æŸ¥ç³»ç»Ÿéº¦å…‹é£è®¾å¤‡æ˜¯å¦æ­£å¸¸å·¥ä½œ
- Firefox å’Œ Safari ä¸æ”¯æŒ Web Speech APIï¼Œæ— æ³•ä½¿ç”¨è¯­éŸ³åŠŸèƒ½
- å¦‚æœä½¿ç”¨çš„æ˜¯ HTTPS ç¯å¢ƒï¼Œç¡®ä¿è¯ä¹¦æœ‰æ•ˆ

## ğŸ“¦ å…¶ä»–éƒ¨ç½²æ–¹å¼

### æœ¬åœ°å¼€å‘è¿è¡Œ

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°è¿›è¡Œå¼€å‘æˆ–ä¿®æ”¹ï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/WriteStone/ai-travel-planners.git
cd ai-travel-planners

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
# å¤åˆ¶ .env.example ä¸º .env.local å¹¶å¡«å†™å¯†é’¥
cp .env.example .env.local

# 4. è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm run dev

# 5. è®¿é—® http://localhost:3000
```

### ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### äº‘å¹³å°éƒ¨ç½²

**Docker é•œåƒå¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°ï¼š**

- **é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡ ACK**
- **è…¾è®¯äº‘å®¹å™¨æœåŠ¡ TKE**
- **AWS ECS / Fargate**
- **Google Cloud Run**
- **Azure Container Instances**
- **Railway / Render / Fly.io**

éƒ¨ç½²æ—¶åªéœ€è¦é…ç½®å¥½ç¯å¢ƒå˜é‡å³å¯ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: TailwindCSS
- **UI ç»„ä»¶**: Lucide React Icons
- **çŠ¶æ€ç®¡ç†**: Zustand
- **é€šçŸ¥**: React Hot Toast

### åç«¯
- **æ•°æ®åº“**: Supabase (PostgreSQL)
- **è®¤è¯**: Supabase Auth
- **å­˜å‚¨**: Supabase Storage
- **å®æ—¶åŒæ­¥**: Supabase Realtime

### AI æœåŠ¡
- **å¤§è¯­è¨€æ¨¡å‹**: OpenAI GPT-4 / é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°
- **è¯­éŸ³è¯†åˆ«**: Web Speech API / ç§‘å¤§è®¯é£
- **åœ°å›¾æœåŠ¡**: é«˜å¾·åœ°å›¾ API

### éƒ¨ç½²
- **å®¹å™¨åŒ–**: Docker
- **CI/CD**: GitHub Actions
- **é•œåƒä»“åº“**: é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0
- Docker (å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/ai-travel-planner.git
cd ai-travel-planner
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` åˆ° `.env` å¹¶å¡«å†™ç›¸å…³é…ç½®ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# AI æ¨¡å‹é…ç½®ï¼ˆäºŒé€‰ä¸€ï¼‰
# é€‰é¡¹ 1: OpenAI
OPENAI_API_KEY=your_openai_api_key
OPENAI_BASE_URL=https://api.openai.com/v1

# é€‰é¡¹ 2: é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°
# DASHSCOPE_API_KEY=your_dashscope_api_key

# é«˜å¾·åœ°å›¾ API
NEXT_PUBLIC_AMAP_KEY=your_amap_api_key

# ç§‘å¤§è®¯é£è¯­éŸ³è¯†åˆ«ï¼ˆå¯é€‰ï¼‰
IFLYTEK_APP_ID=your_iflytek_app_id
IFLYTEK_API_KEY=your_iflytek_api_key
IFLYTEK_API_SECRET=your_iflytek_api_secret

# åº”ç”¨ URL
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 4. è®¾ç½® Supabase æ•°æ®åº“

1. åœ¨ [Supabase](https://supabase.com) åˆ›å»ºæ–°é¡¹ç›®
2. åœ¨ SQL Editor ä¸­æ‰§è¡Œ `supabase/schema.sql` æ–‡ä»¶ä¸­çš„ SQL è¯­å¥
3. å¤åˆ¶é¡¹ç›®çš„ URL å’Œ anon key åˆ° `.env` æ–‡ä»¶

### 5. è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## ğŸ³ Docker éƒ¨ç½²

### ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰

1. ç¡®ä¿å·²å®‰è£… Docker å’Œ Docker Compose

2. åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒå˜é‡

3. æ„å»ºå¹¶å¯åŠ¨å®¹å™¨ï¼š

```bash
docker-compose up -d
```

4. è®¿é—® [http://localhost:3000](http://localhost:3000)

5. åœæ­¢æœåŠ¡ï¼š

```bash
docker-compose down
```

### ä½¿ç”¨ Docker ç›´æ¥è¿è¡Œ

å¦‚æœä½ ä¸æƒ³ä½¿ç”¨ Docker Composeï¼Œå¯ä»¥ç›´æ¥è¿è¡Œå®¹å™¨ï¼š

**æ‹‰å–é•œåƒå¹¶è¿è¡Œï¼š**

```bash
docker pull ghcr.io/writestone/ai-travel-planners:latest

docker run -d \
  --name ai-travel-planner \
  -p 3000:3000 \
  -e NEXT_PUBLIC_SUPABASE_URL=your_url \
  -e NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key \
  -e DASHSCOPE_API_KEY=your_key \
  ghcr.io/writestone/ai-travel-planners:latest
```

**æœ¬åœ°æ„å»ºå¹¶è¿è¡Œï¼š**

```bash
# æ„å»ºé•œåƒ
docker build -t ai-travel-planner .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name ai-travel-planner \
  -p 3000:3000 \
  --env-file .env \
  ai-travel-planner
```

## ğŸ”‘ API å¯†é’¥è·å–æŒ‡å—

### 1. Supabaseï¼ˆå¿…éœ€ï¼‰

**è·å–æ­¥éª¤ï¼š**
1. è®¿é—® [Supabase](https://supabase.com) å¹¶æ³¨å†Œè´¦å·
2. ç‚¹å‡» "New Project" åˆ›å»ºæ–°é¡¹ç›®
3. ç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆï¼ˆçº¦ 2 åˆ†é’Ÿï¼‰
4. è¿›å…¥é¡¹ç›®è®¾ç½® (Settings) â†’ API
5. å¤åˆ¶ä»¥ä¸‹ä¿¡æ¯ï¼š
   - **Project URL**ï¼ˆä¾‹å¦‚ï¼š`https://xxxxx.supabase.co`ï¼‰
   - **anon public key**ï¼ˆä»¥ `eyJ` å¼€å¤´çš„é•¿å­—ç¬¦ä¸²ï¼‰

**é…ç½®æ•°æ®åº“ï¼š**
1. åœ¨é¡¹ç›®ä¸­ç‚¹å‡» SQL Editor
2. å¤åˆ¶æœ¬é¡¹ç›®ä¸­ `supabase/schema.sql` çš„å†…å®¹
3. ç²˜è´´å¹¶æ‰§è¡Œ SQL è¯­å¥

**è´¹ç”¨ï¼š** å…è´¹å¥—é¤è¶³å¤Ÿä¸ªäººä½¿ç”¨

### 2. é˜¿é‡Œäº‘ç™¾ç‚¼ DashScopeï¼ˆå¿…éœ€ï¼‰

**è·å–æ­¥éª¤ï¼š**
1. è®¿é—® [é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°](https://dashscope.aliyun.com/)
2. ä½¿ç”¨é˜¿é‡Œäº‘è´¦å·ç™»å½•ï¼ˆæ²¡æœ‰åˆ™å…ˆæ³¨å†Œï¼‰
3. è¿›å…¥æ§åˆ¶å°ï¼Œç‚¹å‡» "å¼€é€š DashScope"
4. åˆ›å»ºåº”ç”¨ï¼Œé€‰æ‹© "é€šç”¨æ–‡æœ¬ç”Ÿæˆ"
5. åœ¨ API-KEY ç®¡ç†ä¸­åˆ›å»ºæ–°å¯†é’¥
6. å¤åˆ¶ API Keyï¼ˆæ ¼å¼ï¼š`sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`ï¼‰

**è´¹ç”¨ï¼š** 
- æ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦
- qwen-turbo æ¨¡å‹æ€§ä»·æ¯”é«˜ï¼Œé€‚åˆæœ¬é¡¹ç›®

### 3. é«˜å¾·åœ°å›¾ APIï¼ˆå¯é€‰ï¼Œæ¨èé…ç½®ï¼‰

**è·å–æ­¥éª¤ï¼š**
1. è®¿é—® [é«˜å¾·å¼€æ”¾å¹³å°](https://console.amap.com/)
2. æ³¨å†Œå¹¶å®Œæˆå¼€å‘è€…è®¤è¯
3. è¿›å…¥æ§åˆ¶å° â†’ åº”ç”¨ç®¡ç† â†’ æˆ‘çš„åº”ç”¨
4. ç‚¹å‡» "åˆ›å»ºæ–°åº”ç”¨"
5. æ·»åŠ  Keyï¼š
   - æœåŠ¡å¹³å°ï¼šé€‰æ‹© "Webç«¯(JS API)"
   - Key åç§°ï¼šä»»æ„å¡«å†™
6. å¤åˆ¶ç”Ÿæˆçš„ Key

**è´¹ç”¨ï¼š** å…è´¹é¢åº¦ï¼ˆæ¯å¤© 30 ä¸‡æ¬¡è°ƒç”¨ï¼‰è¶³å¤Ÿä½¿ç”¨

### 4. ç§‘å¤§è®¯é£è¯­éŸ³è¯†åˆ«ï¼ˆå¯é€‰ï¼‰

**è·å–æ­¥éª¤ï¼š**
1. è®¿é—® [ç§‘å¤§è®¯é£å¼€æ”¾å¹³å°](https://www.xfyun.cn/)
2. æ³¨å†Œå¹¶ç™»å½•
3. åˆ›å»ºåº”ç”¨ï¼Œé€‰æ‹© "è¯­éŸ³å¬å†™ï¼ˆæµå¼ç‰ˆï¼‰"
4. åœ¨åº”ç”¨è¯¦æƒ…ä¸­è·å–ï¼š
   - APPID
   - APISecret
   - APIKey

**æ³¨æ„ï¼š** 
- ä¸é…ç½®æ­¤é¡¹å°†ä½¿ç”¨æµè§ˆå™¨å†…ç½®è¯­éŸ³è¯†åˆ«ï¼ˆWeb Speech APIï¼‰
- ä»… Chrome/Edge æµè§ˆå™¨æ”¯æŒ Web Speech API

**è´¹ç”¨ï¼š** æ¯æ—¥ 500 æ¬¡å…è´¹è°ƒç”¨

## ğŸ“ ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆDocker éƒ¨ç½²æ—¶ï¼‰ï¼š

```env
# Supabase é…ç½®ï¼ˆå¿…éœ€ï¼‰
NEXT_PUBLIC_SUPABASE_URL=https://ä½ çš„é¡¹ç›®ID.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJå¼€å¤´çš„é•¿å­—ç¬¦ä¸²

# é˜¿é‡Œäº‘ç™¾ç‚¼ APIï¼ˆå¿…éœ€ï¼‰
DASHSCOPE_API_KEY=sk-å¼€å¤´çš„å¯†é’¥

# é«˜å¾·åœ°å›¾ APIï¼ˆå¯é€‰ï¼Œæ¨èï¼‰
NEXT_PUBLIC_AMAP_KEY=ä½ çš„é«˜å¾·åœ°å›¾Key

# ç§‘å¤§è®¯é£è¯­éŸ³ï¼ˆå¯é€‰ï¼‰
IFLYTEK_APP_ID=ä½ çš„APPID
IFLYTEK_API_KEY=ä½ çš„APIKey
IFLYTEK_API_SECRET=ä½ çš„APISecret
```

**æœ€å°é…ç½®ï¼š** åªéœ€é…ç½®å‰ä¸¤é¡¹ï¼ˆSupabase + DashScopeï¼‰å³å¯è¿è¡Œ

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åˆ›å»ºæ—…è¡Œè®¡åˆ’

1. **æ³¨å†Œ/ç™»å½•**: é¦–æ¬¡ä½¿ç”¨éœ€è¦æ³¨å†Œè´¦æˆ·
2. **å¼€å§‹è§„åˆ’**: ç‚¹å‡»"å¼€å§‹è§„åˆ’æ—…è¡Œ"æˆ–"åˆ›å»ºæ–°è¡Œç¨‹"
3. **è¾“å…¥éœ€æ±‚**: 
   - ä½¿ç”¨è¯­éŸ³æè¿°ï¼ˆç‚¹å‡»éº¦å…‹é£å›¾æ ‡ï¼‰
   - æˆ–æ‰‹åŠ¨å¡«å†™è¡¨å•
4. **ç”Ÿæˆè¡Œç¨‹**: AI å°†è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„æ—…è¡Œè®¡åˆ’
5. **æŸ¥çœ‹è¯¦æƒ…**: åœ¨è¡Œç¨‹è¯¦æƒ…é¡µæŸ¥çœ‹å®Œæ•´è§„åˆ’

### æŸ¥çœ‹åœ°å›¾

1. åœ¨è¡Œç¨‹è¯¦æƒ…é¡µåˆ‡æ¢åˆ°"åœ°å›¾è§†å›¾"æ ‡ç­¾
2. æŸ¥çœ‹æ™¯ç‚¹æ ‡è®°å’Œè·¯çº¿è§„åˆ’
3. ç‚¹å‡»æ ‡è®°æŸ¥çœ‹æ™¯ç‚¹è¯¦ç»†ä¿¡æ¯
4. ä½¿ç”¨ç¼©æ”¾å’Œæ‹–æ‹½åŠŸèƒ½æµè§ˆåœ°å›¾

### è´¹ç”¨ç®¡ç†

1. åˆ‡æ¢åˆ°"è´¹ç”¨ç®¡ç†"æ ‡ç­¾
2. ç‚¹å‡»"è¯­éŸ³"æˆ–"æ·»åŠ "æŒ‰é’®è®°å½•å¼€é”€
3. æŸ¥çœ‹é¢„ç®—ä½¿ç”¨æƒ…å†µå’Œåˆ†ç±»ç»Ÿè®¡
4. å®æ—¶è¿½è¸ªå‰©ä½™é¢„ç®—

### è®¾ç½® API å¯†é’¥

1. è®¿é—®"è®¾ç½®"é¡µé¢
2. åœ¨"API å¯†é’¥é…ç½®"éƒ¨åˆ†è¾“å…¥å„é¡¹å¯†é’¥
3. ç‚¹å‡»"ä¿å­˜å¯†é’¥"
4. å¯†é’¥å°†å®‰å…¨å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°

**é‡è¦**: å¯†é’¥ä»…å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ai-travel-planner/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard/         # ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ planner/           # è¡Œç¨‹è§„åˆ’å™¨
â”‚   â”‚   â”œâ”€â”€ trip/[id]/         # è¡Œç¨‹è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ settings/          # è®¾ç½®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TripMap.tsx       # åœ°å›¾ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ExpenseTracker.tsx # è´¹ç”¨è¿½è¸ªç»„ä»¶
â”‚   â””â”€â”€ lib/                   # å·¥å…·åº“
â”‚       â”œâ”€â”€ supabase.ts       # Supabase å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ ai.ts             # AI æœåŠ¡
â”‚       â””â”€â”€ voice.ts          # è¯­éŸ³è¯†åˆ«
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ schema.sql            # æ•°æ®åº“æ¶æ„
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ docker-build.yml  # CI/CD é…ç½®
â”œâ”€â”€ Dockerfile                # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml        # Docker Compose é…ç½®
â”œâ”€â”€ next.config.js            # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.ts        # TailwindCSS é…ç½®
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ GitHub Actions CI/CD

é¡¹ç›®å·²é…ç½®è‡ªåŠ¨åŒ– CI/CD æµç¨‹ã€‚æ¯æ¬¡æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š
1. æ„å»º Docker é•œåƒï¼ˆæ”¯æŒ linux/amd64 å’Œ linux/arm64ï¼‰
2. æ¨é€åˆ° GitHub Container Registry (GHCR)
3. è‡ªåŠ¨æ‰“æ ‡ç­¾ï¼ˆlatestã€åˆ†æ”¯åã€commit SHAï¼‰

**é•œåƒåœ°å€ï¼š** `ghcr.io/writestone/ai-travel-planners:latest`

**æ‰‹åŠ¨è§¦å‘æ„å»ºï¼š**
1. è¿›å…¥ä»“åº“çš„ Actions é¡µé¢
2. é€‰æ‹© "Build and Push Docker Image" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow" æŒ‰é’®

## ğŸ“ å¿«é€Ÿæµ‹è¯•æŒ‡å—

**æœ€å¿« 5 åˆ†é’Ÿä½“éªŒåº”ç”¨ï¼š**

```bash
# 1. æ‹‰å–é•œåƒ
docker pull ghcr.io/writestone/ai-travel-planners:latest

# 2. å‡†å¤‡ç¯å¢ƒå˜é‡ï¼ˆæ›¿æ¢ä¸ºä½ çš„å¯†é’¥ï¼‰
docker run -d \
  --name ai-travel-planner \
  -p 3000:3000 \
  -e NEXT_PUBLIC_SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co \
  -e NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„anon_key \
  -e DASHSCOPE_API_KEY=sk-ä½ çš„å¯†é’¥ \
  ghcr.io/writestone/ai-travel-planners:latest

# 3. ä½¿ç”¨ Edge æˆ– Chrome æµè§ˆå™¨è®¿é—® http://localhost:3000
```

**æµ‹è¯•æµç¨‹ï¼š**
1. **æ‰“å¼€æµè§ˆå™¨**ï¼šä½¿ç”¨ Microsoft Edge æˆ– Google Chromeï¼ˆå¿…éœ€ï¼Œè¯­éŸ³åŠŸèƒ½ä¾èµ–ï¼‰
2. æ³¨å†Œä¸€ä¸ªæµ‹è¯•è´¦å·
3. åˆ›å»ºæ–°çš„æ—…è¡Œè®¡åˆ’
4. ç‚¹å‡»éº¦å…‹é£å›¾æ ‡è¯´ï¼š"æˆ‘æƒ³å»æˆéƒ½ç©3å¤©ï¼Œé¢„ç®—5000å…ƒï¼Œå–œæ¬¢ç¾é£Ÿ"
5. ç‚¹å‡»ç”Ÿæˆè®¡åˆ’ï¼ŒæŸ¥çœ‹ AI ç”Ÿæˆçš„è¯¦ç»†è¡Œç¨‹
6. åˆ‡æ¢åˆ°åœ°å›¾è§†å›¾æŸ¥çœ‹è·¯çº¿
7. åœ¨è´¹ç”¨ç®¡ç†ä¸­è®°å½•å¼€é”€

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `src/app` ä¸­åˆ›å»ºæ–°é¡µé¢
2. åœ¨ `src/components` ä¸­åˆ›å»ºå¤ç”¨ç»„ä»¶
3. åœ¨ `src/lib` ä¸­æ·»åŠ å·¥å…·å‡½æ•°
4. æ›´æ–° Supabase æ•°æ®åº“æ¶æ„ï¼ˆå¦‚éœ€è¦ï¼‰

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ç¼–å†™ç±»å‹å®‰å…¨çš„ä»£ç 
- éµå¾ª Next.js 13+ App Router æœ€ä½³å®è·µ
- ç»„ä»¶ä½¿ç”¨ 'use client' æŒ‡ä»¤æ ‡è®°å®¢æˆ·ç«¯ç»„ä»¶
- ä½¿ç”¨ TailwindCSS è¿›è¡Œæ ·å¼ç®¡ç†

### æµ‹è¯•

```bash
# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥
npm run lint

# æ„å»ºæµ‹è¯•
npm run build
```

## âš ï¸ é‡è¦æç¤º

### API å¯†é’¥å®‰å…¨

- **åˆ‡å‹¿å°† API å¯†é’¥æäº¤åˆ° Git ä»“åº“**
- ä½¿ç”¨ `.env` æ–‡ä»¶ç®¡ç†å¯†é’¥ï¼ˆå·²åœ¨ `.gitignore` ä¸­ï¼‰
- åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†æœåŠ¡
- å®¢æˆ·ç«¯å¯†é’¥å­˜å‚¨åœ¨ localStorageï¼Œä»…ç”¨äºæµè§ˆå™¨ç«¯è°ƒç”¨

### æ•°æ®éšç§

- ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨ Supabaseï¼Œå¯ç”¨äº†è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰
- ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
- API å¯†é’¥ä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨

### æˆæœ¬æ§åˆ¶

- OpenAI API æŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œè¯·æ³¨æ„æ§åˆ¶è°ƒç”¨é¢‘ç‡
- é«˜å¾·åœ°å›¾ API æœ‰å…è´¹é¢åº¦ï¼Œè¶…å‡ºåæŒ‰é‡è®¡è´¹
- Supabase æœ‰å…è´¹å¥—é¤ï¼Œé€‚åˆå¼€å‘å’Œå°è§„æ¨¡ä½¿ç”¨

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“® è”ç³»æ–¹å¼

- GitHub: [WriteStone](https://github.com/WriteStone)
- é¡¹ç›®åœ°å€: [ai-travel-planners](https://github.com/WriteStone/ai-travel-planners)
- Docker é•œåƒ: [ghcr.io/writestone/ai-travel-planners](https://github.com/WriteStone/ai-travel-planners/pkgs/container/ai-travel-planners)

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Supabase](https://supabase.com/) - å¼€æºåç«¯æœåŠ¡å¹³å°
- [é˜¿é‡Œäº‘ç™¾ç‚¼](https://dashscope.aliyun.com/) - AI å¤§æ¨¡å‹æœåŠ¡
- [é«˜å¾·åœ°å›¾](https://lbs.amap.com/) - åœ°å›¾æœåŠ¡
- [TailwindCSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Lucide](https://lucide.dev/) - å›¾æ ‡åº“

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

- **ç”Ÿäº§ç¯å¢ƒ**ï¼šä½¿ç”¨ Docker é•œåƒéƒ¨ç½²ï¼Œå·²ä¼˜åŒ–æ‰“åŒ…å¤§å°å’Œå¯åŠ¨é€Ÿåº¦
- **API è°ƒç”¨**ï¼šåˆç†æ§åˆ¶ AI ç”Ÿæˆé¢‘ç‡ï¼Œé¿å…é¢‘ç¹è°ƒç”¨
- **åœ°å›¾åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½åœ°å›¾ç»„ä»¶ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´
- **æ•°æ®åº“æŸ¥è¯¢**ï¼šSupabase å¯ç”¨äº† RLSï¼Œç¡®ä¿æ•°æ®å®‰å…¨çš„åŒæ—¶ä¿æŒæ€§èƒ½

## ğŸ› å·²çŸ¥é—®é¢˜

- è¯­éŸ³è¯†åˆ«åœ¨æŸäº›æµè§ˆå™¨ï¼ˆå¦‚ Firefoxï¼‰å¯èƒ½ä¸ç¨³å®šï¼Œå»ºè®®ä½¿ç”¨ Chrome/Edge
- åœ°å›¾åœ¨ç§»åŠ¨ç«¯å¯èƒ½éœ€è¦ä¼˜åŒ–äº¤äº’ä½“éªŒ
- AI ç”Ÿæˆçš„è¡Œç¨‹å¯èƒ½éœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´

## ğŸ”® åç»­è®¡åˆ’

- [ ] æ”¯æŒå¤šè¯­è¨€å›½é™…åŒ–
- [ ] ç§»åŠ¨ç«¯ Appï¼ˆReact Nativeï¼‰
- [ ] ç¤¾äº¤åˆ†äº«åŠŸèƒ½
- [ ] åä½œè§„åˆ’ï¼ˆå¤šäººå…±åŒç¼–è¾‘ï¼‰
- [ ] æ›´å¤š AI æ¨¡å‹æ”¯æŒ
- [ ] è¡Œç¨‹æ¨¡æ¿åº“

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä¸ºå­¦ä¹ äº¤æµç›®çš„å¼€å‘ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰ï¼Œè¯·è¿›è¡Œå……åˆ†çš„å®‰å…¨å®¡æŸ¥å’Œæ€§èƒ½æµ‹è¯•ã€‚
